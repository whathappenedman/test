<!DOCTYPE html>
<html data-user-theme="dark" class="js-focus-visible" data-js-focus-visible="" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta content="width=device-width,initial-scale=1.0" name="viewport"><link as="font" crossorigin="anonymous" href="https://web.dev/fonts/google-sans/regular/latin.woff2" rel="preload"><link as="font" crossorigin="anonymous" href="https://web.dev/fonts/google-sans/bold/latin.woff2" rel="preload"><link href="https://web-dev.imgix.net/" rel="preconnect"><meta content="#fff" name="theme-color"><title>Using AVIF to compress images on your site</title><meta content="Serving desktop-sized images to mobile devices can use 2–4x more data than needed. Instead of a &quot;one-size-fits-all&quot; approach to images, serve different image sizes to different devices. " name="description"><link href="https://web.dev/compress-images-avif/" rel="canonical"><meta content="Using AVIF to compress images on your site" itemprop="name"><meta content="Serving desktop-sized images to mobile devices can use 2–4x more data than needed. Instead of a &quot;one-size-fits-all&quot; approach to images, serve different image sizes to different devices. " itemprop="description"><meta content="https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/0jtMLyN4T7C7UazJCYEH.jpg?auto=format&amp;fit=max&amp;w=1200&amp;fm=auto" itemprop="image"><meta content="en_US" property="og:locale"><meta content="article" property="og:type"><meta content="https://web.dev/compress-images-avif/" property="og:url"><meta content="web.dev" property="og:site_name"><meta content="Using AVIF to compress images on your site" property="og:title"><meta content="Serving desktop-sized images to mobile devices can use 2–4x more data than needed. Instead of a &quot;one-size-fits-all&quot; approach to images, serve different image sizes to different devices. " property="og:description"><meta content="https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/0jtMLyN4T7C7UazJCYEH.jpg?auto=format&amp;fit=max&amp;w=1200&amp;fm=auto" property="og:image"><meta content="The AVIF logo" property="og:image:alt"><meta content="performance" property="tag"><meta content="summary_large_image" name="twitter:card"><meta content="Using AVIF to compress images on your site" name="twitter:title"><meta content="Serving desktop-sized images to mobile devices can use 2–4x more data than needed. Instead of a &quot;one-size-fits-all&quot; approach to images, serve different image sizes to different devices. " name="twitter:description"><meta content="https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/0jtMLyN4T7C7UazJCYEH.jpg?auto=format&amp;fit=max&amp;w=1200&amp;fm=auto" name="twitter:image"><link data-title="web.dev feed" href="https://web.dev/feed.xml" rel="alternate" type="application/atom+xml"><link href="https://web.dev/manifest.webmanifest" rel="manifest"><link rel="shortcut icon" href="https://web.dev/images/favicon.ico"><link href="https://web.dev/images/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="https://web.dev/images/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link href="https://web.dev/images/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><link color="#0054ff" href="https://web.dev/images/safari-pinned-tab.svg" rel="mask-icon"><script type="text/javascript" async="" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/recaptcha__en.js" crossorigin="anonymous" integrity="sha384-D/rB7WENRzGyAojuWfIN+BHvjhks8WnErJj5g1iV5UTOPmgZ8WhU1X2xHqglshn6"></script><script>window.applyThemeSetting=function(e){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=e||localStorage.getItem("user-color-scheme")||t,r=document.documentElement.getAttribute("data-user-theme");if(o){o!==r&&document.documentElement.setAttribute("data-user-theme",o);const e=document.querySelector("web-lighthouse-viewer article.lh-root");e&&e.classList.toggle("lh-dark","dark"===o)}},window.applyThemeSetting();</script><link href="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/next.css" rel="stylesheet"><link href="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/legacy-rollout.css" rel="stylesheet"><link as="font" crossorigin="anonymous" href="https://web.dev/fonts/material-icons/regular.woff2" rel="preload"><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-126406676-2"),ga("set","transport","beacon"),ga("set","anonymizeIp",!0),ga("set","page",window.location.pathname),ga("set","dimension5","12");try{ga("set","dimension6",performance.getEntriesByType("navigation")[0].type)}catch(e){ga("set","dimension6","(not set)")}ga("set","dimension7",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ga("send","pageview");</script><script>function loadScript(e,t){const d=document.createElement("script");if(d.src=e,d.onload=()=>{document.dispatchEvent(new CustomEvent("scriptLoaded",{detail:{url:e}}))},t&&(d.type=t),"module"===t){d.async=!1;const t=document.createElement("link");t.rel="modulepreload",t.href=e,document.head.append(t),window.addEventListener("DOMContentLoaded",(()=>{document.head.append(d)}))}else document.head.append(d)}loadScript("/js/app.js?v=145f0867","module");let pageScripts=["/js/content.js"];document.addEventListener("scriptLoaded",(e=>{const t=e.detail.url.split("?")[0],d=pageScripts.indexOf(t);d>-1&&pageScripts.splice(d,1),0===pageScripts.length&&document.dispatchEvent(new CustomEvent("pageScriptsLoaded"))})),loadScript("/js/content.js?v=61fbde25","module");</script><link rel="modulepreload" href="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/app.js"><link rel="modulepreload" href="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/content.js"><script>loadScript("https://www.google-analytics.com/analytics.js",null),loadScript("https://www.google.com/recaptcha/api.js",null);</script><script src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/google-analytics_analytics.js"></script><script src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/api.js"></script><script src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/app.js" type="module"></script><script src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/content.js" type="module"></script><style type="text/css">web-profile-switcher-container{align-items:center;display:flex;height:100%}@media (min-width:865px){web-profile-switcher-container{margin-left:16px}}.w-profile-signin{background:transparent;border:0;box-shadow:none;color:#202124;cursor:pointer;font-family:Segoe UI,system-ui,-apple-system,sans-serif;text-transform:uppercase;font-size:14px;font-weight:500;height:100%;outline:none;padding:0 8px}@media (min-width:865px){.w-profile-signin{padding:0 24px}}.w-profile-signin:hover{background-color:rgba(32,33,36,.04)}.w-profile-signin:focus{background-color:rgba(32,33,36,.12)}.w-profile-signin:active{background-color:rgba(32,33,36,.16)}web-profile-switcher{display:block;margin:0 0 0 16px}.w-profile-toggle{background:#f1f3f4;border:4px solid #fff;border-radius:50%;box-shadow:none;box-sizing:content-box;display:flex;height:auto;justify-content:center;min-height:32px;min-width:32px;overflow:hidden;padding:0;width:auto}.w-profile-toggle:active,.w-profile-toggle:focus,.w-profile-toggle:hover{box-shadow:none}.w-profile-toggle:focus{border-color:rgba(0,0,0,.2)!important}@keyframes w-profile-toggle__appear{0%{opacity:0}to{opacity:1}}.w-profile-toggle__photo{border-radius:50%;height:32px;width:32px;animation:w-profile-toggle__appear .45s}.w-profile-dialog{background:#fff;border:1px solid rgba(0,0,0,.2);border-radius:2px;box-shadow:0 2px 10px rgba(0,0,0,.2);display:block;overflow:hidden;position:absolute;right:15px;top:62px}@media (min-width:481px){.w-profile-dialog{right:24px}}.w-profile-dialog__user{padding:20px}@media (min-width:321px){.w-profile-dialog__user{display:flex}}.w-profile-dialog__photo-container{align-items:center;display:flex;justify-content:center;margin:0 0 20px}@media (min-width:321px){.w-profile-dialog__photo-container{margin:0 20px 0 0}}.w-profile-dialog__photo{border-radius:50%;display:block;height:64px;width:64px}@media (min-width:321px){.w-profile-dialog__photo{height:96px;width:96px}}.w-profile-dialog__details{font-size:13px;line-height:normal}.w-profile-dialog__name{font-weight:500;margin-bottom:1px}.w-profile-dialog__email{color:#666;overflow:hidden;text-overflow:ellipsis}.w-profile-dialog__privacy{color:#1a73e8;display:block;margin:6px 0}.w-profile-dialog__privacy:hover{text-decoration:none}.w-profile-dialog__account{background:#4d90fe;border:1px solid #3079ed;border-radius:2px;color:#fff;display:inline-block;font:13px/28px Roboto,Noto Sans,sans-serif;margin:10px 0 0;padding:0 12px;position:relative;text-align:center;white-space:nowrap;width:100%}@media (min-width:321px){.w-profile-dialog__account{width:auto}}.w-profile-dialog__account:active,.w-profile-dialog__account:focus,.w-profile-dialog__account:hover{outline:none;text-decoration:none}.w-profile-dialog__account:after{bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .2s,border .2s;z-index:1}.w-profile-dialog__account:hover:after{background-color:hsla(0,0%,100%,.08)}.w-profile-dialog__account:focus:after{background-color:hsla(0,0%,100%,.12)}.w-profile-dialog__account:active:after{background-color:hsla(0,0%,100%,.24)}.w-profile-dialog__controls{background:#f5f5f5;border-top:1px solid rgba(0,0,0,.2);display:block;padding:10px 20px}@media (min-width:321px){.w-profile-dialog__controls{align-items:center;display:flex;justify-content:space-between}}.w-profile-dialog__button{background:#f8f8f8;border:1px solid #c6c6c6;border-radius:2px;box-shadow:none;color:#666;display:block;font:13px/28px Roboto,Noto Sans,sans-serif;height:auto;margin:0;padding:0 12px;position:relative;text-align:center;text-transform:none;width:100%}@media (min-width:321px){.w-profile-dialog__button{width:auto}}.w-profile-dialog__button:not(:last-of-type){margin-bottom:8px}@media (min-width:321px){.w-profile-dialog__button:not(:last-of-type){margin:0}}.w-profile-dialog__button:focus{background:#f8f8f8;outline:none;text-decoration:none}.w-profile-dialog__button:after{bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .2s,border .2s;z-index:1}.w-profile-dialog__button:hover:after{background-color:rgba(0,0,0,.04)}.w-profile-dialog__button:focus:after{background-color:rgba(0,0,0,.08)}.w-profile-dialog__button:active:after{background-color:rgba(0,0,0,.1)}</style><style id="inert-style">
[inert] {
  pointer-events: none;
  cursor: default;
}

[inert], [inert] * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
</style><style type="text/css">share-action{display:inline-flex;align-items:center;gap:.5em;cursor:pointer;color:var(--color-mid-text)}share-action:hover{filter:invert(.05)}share-action svg{width:1em;height:1em;transform:translateY(-.05ex)}</style><style type="text/css">@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes scaleup{0%{transform:scale(.8)}to{transform:scale(1)}}.web-modal{align-items:center;background:rgba(0,0,0,.32);bottom:0;display:flex;justify-content:center;left:0;opacity:0;overflow:auto;padding:1em;position:fixed;right:0;top:0;transition:visibility 0s .15s;visibility:hidden;z-index:275}.web-modal .web-modal__container{background:#fff;border-radius:8px;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:flex;flex-direction:column;margin:auto;max-height:100%;max-width:35em;min-height:20em;pointer-events:auto;width:26em}.web-modal .web-modal__header{border-bottom:1px solid transparent;margin:0;padding:1.5rem 1.5rem .5rem}.web-modal .web-modal__content{flex:1;overflow:auto;padding:0 1.5rem}.web-modal .web-modal__footer{border-top:1px solid transparent;display:grid;gap:.5rem;grid-template-columns:1fr auto;justify-items:end;padding:1rem}.web-modal .web-modal__button{height:44px}.web-modal[open]{opacity:1;transition:visibility 0s;visibility:visible}.web-modal[animatable]{animation:fadein 75ms linear reverse}.web-modal[animatable][open]{animation:fadein .15s linear}.web-modal[animatable][open] .web-modal__container{animation:scaleup .15s cubic-bezier(0,0,.2,1),fadein 75ms linear}.web-modal[overflow] .web-modal__footer,.web-modal[overflow] .web-modal__header{border-color:#dadce0}</style><style type="text/css">[state=completed] .web-response-tac__option-rationale{font:400 12px/1.5 Segoe UI,system-ui,-apple-system,sans-serif;background:rgba(1,134,66,.08);border-radius:3px;color:var(--color-mid-text);display:block;line-height:1.778!important;padding:1.125rem}@media (min-width:241px){[state=completed] .web-response-tac__option-rationale{font:400 14px/1.5 Segoe UI,system-ui,-apple-system,sans-serif}}@media (min-width:321px){[state=completed] .web-response-tac__option-rationale{font:400 16px/1.5 Segoe UI,system-ui,-apple-system,sans-serif}}</style></head><body class=""><web-snackbar-container><!---->
      <web-snackbar><!----> <div class="web-snackbar__surface flow"><!--?lit$06222424$--></div> </web-snackbar>
    </web-snackbar-container><a class="skip-link button" data-type="primary" href="#main">Skip to content</a><web-header class="site-header" role="banner"> <div class="cluster gutter-base"><button class="icon-button tooltip color-core-text md:hidden-yes" aria-labelledby="menu-button-toolip" data-alignment="right" data-open-drawer-button=""><svg viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg> <span class="tooltip__content" id="menu-button-toolip">Open menu</span></button><a class="site-header__brand brand" href="https://web.dev/"> <svg viewBox="0 0 119.79 22.32" aria-label="web.dev" height="22.32" role="img" width="119.79" xmlns="http://www.w3.org/2000/svg"><path d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" class="brand__text" fill="#5f6368" fill-rule="evenodd"></path><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"></path><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"></path><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"></path><circle cx="19.27" cy="19.27" fill="#06f" r="3.04"></circle></svg> </a></div> <web-navigation-drawer type="standard" tabindex="-1"> <nav aria-label="main navigation" class="site-header__nav" data-drawer-container=""><a data-category="Site-Wide Custom Events" data-label="Tab: Learn" class="site-header__link" href="https://web.dev/learn/"> Learn </a><a data-category="Site-Wide Custom Events" data-label="Tab: Measure" class="site-header__link" href="https://web.dev/measure/"> Measure </a><a data-category="Site-Wide Custom Events" data-label="Tab: Blog" class="site-header__link" href="https://web.dev/blog/"> Blog </a><a data-category="Site-Wide Custom Events" data-label="Tab: Case Studies" class="site-header__link" href="https://web.dev/tags/case-study/"> Case studies </a><a data-category="Site-Wide Custom Events" data-label="Tab: About" class="site-header__link" href="https://web.dev/about/"> About </a><button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button=""><svg viewBox="0 0 24 24" aria-label="close" class="icon" height="24" role="img" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> <span class="tooltip__content">Close</span></button></nav> <!----></web-navigation-drawer> <div class="site-header__actions cluster"><div class="site-header__search"><web-search i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}" results-id="search-main-results"><!---->
      <button class="web-search__open-btn icon-button color-mid-text" aria-label="Open search">
        <svg class="web-search__search-icon" xmlns="http://www.w3.org/2000/svg" height="24" width="24" aria-hidden="true">
          <path d="M0 0h24v24H0z" fill="none"></path>
          <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
        </svg>
      </button>
      <div class="web-search__input-wrapper" role="combobox" aria-controls="web-search__input" aria-haspopup="listbox" aria-expanded="false" aria-owns="search-main-results-list">
        <input id="web-search__input" class="web-search__input" type="text" role="searchbox" autocomplete="off" aria-autocomplete="list" aria-controls="search-main-results-list" aria-label="All articles" placeholder="Search">
      </div>
    </web-search><web-search-results id="search-main-results"><!---->
        <div role="listbox" aria-hidden="true" id="search-main-results-list"></div>
      </web-search-results></div></div> <!----></web-header><main id="main"><img alt="The AVIF logo" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_006.avif" srcset="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_008.avif 200w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_017.avif 228w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_016.avif 260w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_009.avif 296w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_014.avif 338w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_004.avif 385w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_015.avif 439w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_005.avif 500w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_013.avif 571w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_007.avif 650w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_011.avif 741w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_010.avif 845w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_003.avif 964w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_002.avif 1098w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_018.avif 1252w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH_012.avif 1428w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/0jtMLyN4T7C7UazJCYEH.avif 1600w" class="hero-image" fetchpriority="high" sizes="100vw" width="1600" height="480"><div class="post wrapper" data-flush=""><div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no"><nav aria-label="On this page" class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side"><div class="course-toc__heading font-google-sans weight-medium">On this page</div><web-scroll-spy> <div class="toc__wrapper flow-recursive"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#whats-new">What's New</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#libaom">Libaom</a></li><li class="toc__listitem"><a class="toc__anchor" href="#libavif">Libavif</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#encoding-avif-images-with-avifenc">Encoding AVIF images with avifenc</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor w-scroll-spy__active" href="#building-command-line-encoder-avifenc">Building command line encoder avifenc</a></li><li class="toc__listitem"><a class="toc__anchor" href="#understanding-the-avifenc-command-line-parameters">Understanding the avifenc command line parameters</a></li><li class="toc__listitem"><a class="toc__anchor" href="#create-an-avif-image-with-default-settings">Create an AVIF image with default settings</a></li><li class="toc__listitem"><a class="toc__anchor" href="#speeding-up-the-encoder">Speeding up the encoder</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li></ul></div> <!----></web-scroll-spy></nav><article class="prose legacy-rollout"><header class="flow gap-bottom-size-3"><nav aria-label="breadcrumbs" class="breadcrumbs"><ul class="breadcrumbs__list" role="list"><li><a data-label="post, home breadcrumb" class="gc-analytics-event" data-action="click" data-category="web.dev" href="https://web.dev/"> Home </a></li><li><a data-label="post, path breadcrumb" class="gc-analytics-event" data-action="click" data-category="web.dev" href="https://web.dev/blog"> All articles </a></li></ul></nav><h1>Using AVIF to compress images on your site</h1><div class="flow-space-size-1 color-mid-text text-size-0"><time>Jun 7, 2021</time></div><div class="cluster flow-space-size-2"><div class="author"><a class="avatar" href="https://web.dev/authors/jaikk/"> <img alt="Jai Krishnan" sizes="(min-width: 64px) 64px, calc(100vw - 48px)" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/BKGlQ9PreNrLEV74mhKX_005.avif" srcset="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/BKGlQ9PreNrLEV74mhKX_002.avif 1x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/BKGlQ9PreNrLEV74mhKX.avif 2x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/BKGlQ9PreNrLEV74mhKX_003.avif 3x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/BKGlQ9PreNrLEV74mhKX_004.avif 4x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/BKGlQ9PreNrLEV74mhKX_006.avif 5x" decoding="async" loading="lazy" width="64" height="64"> </a><div class="flow"><cite class="author__name"> <a href="https://web.dev/authors/jaikk/">Jai Krishnan</a> </cite><div class="author__links cluster"></div></div></div><div class="author"><a class="avatar" href="https://web.dev/authors/wtc/"> <img alt="Wan-Teh Chang" sizes="(min-width: 64px) 64px, calc(100vw - 48px)" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/tyVCzJx2Qe2hCSwXzhrk_005.avif" srcset="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/tyVCzJx2Qe2hCSwXzhrk_004.avif 1x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/tyVCzJx2Qe2hCSwXzhrk.avif 2x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/tyVCzJx2Qe2hCSwXzhrk_002.avif 3x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/tyVCzJx2Qe2hCSwXzhrk_006.avif 4x, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/tyVCzJx2Qe2hCSwXzhrk_003.avif 5x" decoding="async" loading="lazy" width="64" height="64"> </a><div class="flow"><cite class="author__name"> <a href="https://web.dev/authors/wtc/">Wan-Teh Chang</a> </cite><div class="author__links cluster"></div></div></div></div></header><div class="xl:hidden-yes flow-space-size-1"><details aria-label="On this page" data-type="inner" role="navigation"><summary>On this page</summary> <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#whats-new">What's New</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#libaom">Libaom</a></li><li class="toc__listitem"><a class="toc__anchor" href="#libavif">Libavif</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#encoding-avif-images-with-avifenc">Encoding AVIF images with avifenc</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#building-command-line-encoder-avifenc">Building command line encoder avifenc</a></li><li class="toc__listitem"><a class="toc__anchor" href="#understanding-the-avifenc-command-line-parameters">Understanding the avifenc command line parameters</a></li><li class="toc__listitem"><a class="toc__anchor" href="#create-an-avif-image-with-default-settings">Create an AVIF image with default settings</a></li><li class="toc__listitem"><a class="toc__anchor" href="#speeding-up-the-encoder">Speeding up the encoder</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li></ul></div></details></div><p>We <a href="https://web.dev/fast/#optimize-your-images">frequently write</a> about the bloat on websites from images, and tools like <a href="https://web.dev/optimize-vitals-lighthouse/">Lighthouse</a>
 highlight when image loading is having a negative impact on user 
experience, such as increasing load time, or taking bandwidth away from 
more important resources. One way to fix this is to use modern 
compression to reduce the file size of images, and a new option for web 
developers is the <a href="https://aomediacodec.github.io/av1-avif/" rel="noopener">AVIF image format</a>.
 This blog post talks about recent updates to open source tooling for 
AVIF, introduces the libaom and libavif encoding libraries, and includes
 a tutorial for using these libraries to encode AVIF images efficiently.</p><p>AVIF is an image format based on the AV1 video codec, and standardized by the <a href="https://aomedia.org/" rel="noopener">Alliance for Open Media</a>.
 AVIF offers significant compression gains over other image formats like
 JPEG and WebP. While the exact savings will depend on the content, 
encoding settings, and quality target, <a href="https://jakearchibald.com/2020/avif-has-landed/" rel="noopener">we</a> and <a href="https://netflixtechblog.com/avif-for-next-generation-image-coding-b1d75675fe4" rel="noopener">others</a> have seen greater than 50% savings vs. JPEG.</p><div class="switcher"><figure><a href="https://storage.googleapis.com/web-dev-uploads/image/foR0vJZKULb5AGJExlazy1xYDgI2/kVqh1xli2O6mqKF3fQNx.avif" target="_blank"> <img alt="The image using AVIF" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/kVqh1xli2O6mqKF3fQNx.avif" width="1120" height="840"> </a><figcaption>1120 by 840 AVIF at 18,769 bytes (click to enlarge)</figcaption></figure><figure><a href="https://storage.googleapis.com/web-dev-uploads/image/foR0vJZKULb5AGJExlazy1xYDgI2/Jy0O0q0mLXl668HAo43n.jpeg" target="_blank"> <img alt="The image using JPEG" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/Jy0O0q0mLXl668HAo43n.jpeg" width="1120" height="840"> </a><figcaption>1120 by 840 JPEG at 20,036 bytes (click to enlarge)</figcaption></figure></div><p>Additionally, AVIF adds codec and container support for new image features such as <a href="https://w3c.github.io/ColorWeb-CG/" rel="noopener">High Dynamic Range and Wide Color Gamut</a>, <a href="https://norkin.org/research/film_grain/" rel="noopener">film grain synthesis</a>, and progressive decoding.</p><aside class="aside flow bg-state-info-bg color-state-info-text"><div class="flow">AVIF
 supports two types of progressive decoding. Spatial scalability can be 
used to offer a lower resolution image for network constrained users and
 'progressively' provide a higher resolution image by sending just the 
additional data required to fill in the high frequency details. Quality 
scalability offers a similar progression by steadily improving visual 
quality with each render.</div></aside><h2 id="whats-new">What's New <a class="w-headline-link" href="#whats-new">#</a></h2><p>Since landing AVIF support in Chrome M85, AVIF support in the open source ecosystem has improved on a number of fronts.</p><h3 id="libaom">Libaom <a class="w-headline-link" href="#libaom">#</a></h3><p><a href="https://aomedia.googlesource.com/aom/" rel="noopener">Libaom</a>
 is an open source AV1 encoder and decoder maintained by the companies 
in the Alliance for Open Media, and used in many production services at 
Google and other member companies. Between the libaom 2.0.0 
release—around the same time Chrome added AVIF support—and the recent 
3.1.0 release, there have been significant still image encoding 
optimizations added to the codebase. These include:</p><ul><li>Optimizations for multi-threading and tiled encoding.</li><li>5x reduction in memory usage.</li><li>6.5x reduction in CPU usage, as shown in the chart below.</li></ul><figure><img sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_018.avif" srcset="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_016.avif 200w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_014.avif 228w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_006.avif 260w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_005.avif 296w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_008.avif 338w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_002.avif 385w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_015.avif 439w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_009.avif 500w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_013.avif 571w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_004.avif 650w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_010.avif 741w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_003.avif 845w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi.avif 964w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_007.avif 1098w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_017.avif 1252w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_011.avif 1428w, Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/mJJfiNsC7Qgl98IJ1LNi_012.avif 1600w" alt="" decoding="async" loading="lazy" width="800" height="467"><figcaption>Using speed=6, cq-level=18, for 8.1 MP images</figcaption></figure><p>These
 changes massively reduce the cost of encoding AVIF— particularly the 
most frequently loaded, or highest priority images on your site. As <a href="https://www.cnet.com/news/google-supercharges-youtube-with-a-custom-video-chip/" rel="noopener">hardware-accelerated encoding</a> of AV1 becomes more available on servers and cloud services, the cost to create AVIF images will continue to drop.</p><h3 id="libavif">Libavif <a class="w-headline-link" href="#libavif">#</a></h3><p><a href="https://github.com/AOMediaCodec/libavif" rel="noopener">Libavif</a>,
 the reference implementation of AVIF, is an open source AVIF muxer and 
parser which is used in Chrome for decoding AVIF images. It can also be 
used with libaom for creating AVIF images from your existing 
uncompressed images, or transcoding from existing web images (JPEG, PNG,
 etc).</p><p>Libavif recently added support for a wider range of encoder
 settings, including integration with more advanced libaom encoder 
settings. Optimizations in the processing pipeline like fast YUV-to-RGB 
conversion using libyuv and premultiplied alpha support further speed up
 the decoding process. And finally, support for the all-intra encoding 
mode newly added in libaom 3.1.0 brings all the libaom improvements 
mentioned in the above.</p><p>Note: <a href="https://github.com/strukturag/libheif" rel="noopener">libheif</a> is another popular open source AVIF muxer and parser, used in <a href="https://imagemagick.org/" rel="noopener">ImageMagick</a>, <a href="https://github.com/libvips/libvips" rel="noopener">libvips</a>, and the <a href="https://sharp.pixelplumbing.com/" rel="noopener">sharp</a> Node.js module.</p><h2 id="encoding-avif-images-with-avifenc">Encoding AVIF images with avifenc <a class="w-headline-link" href="#encoding-avif-images-with-avifenc">#</a></h2><p>A quick way to experiment with AVIF is <a href="https://squoosh.app/" rel="noopener">Squoosh.app</a>.
 Squoosh runs a WebAssembly version of libavif, and exposes many of the 
same features as the command line tools. It's an easy way to compare 
AVIF to other formats old and new. There's also a <a href="https://www.npmjs.com/package/@squoosh/cli" rel="noopener">CLI version</a> of Squoosh aimed at Node apps.</p><p>However,
 WebAssembly doesn't yet have access to all the performance primitives 
of CPUs, so if you want to run libavif at its fastest, we recommend the 
command line encoder, avifenc.</p><p>To understand how to encode AVIF images, we will present a tutorial using the <a href="https://codelabs.developers.google.com/codelabs/avif/images/happy_dog.jpg" rel="noopener">same source image</a> used in our example above. To start, you will need:</p><ul><li><a href="https://www.google.com/chrome/" rel="noopener">Chrome</a> version 85 or later</li><li><a href="https://cmake.org/" rel="noopener">cmake</a></li><li><a href="https://git-scm.com/" rel="noopener">git</a></li><li><a href="https://ninja-build.org/" rel="noopener">ninja</a></li></ul><p>You
 will also need to install the development packages for zlib, libpng, 
and libjpeg. The commands for the Debian and Ubuntu Linux distributions 
are:</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> zlib1g-dev<br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libpng-dev<br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libjpeg-dev</code></pre> <!----></web-copy-code><h3 id="building-command-line-encoder-avifenc">Building command line encoder avifenc <a class="w-headline-link" href="#building-command-line-encoder-avifenc">#</a></h3><h4 id="1-get-the-code">1. Get the code <a class="w-headline-link" href="#1-get-the-code">#</a></h4><p>Check out a release tag of libavif.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token function">git</span> clone -b v0.9.1 https://github.com/AOMediaCodec/libavif.git</code></pre> <!----></web-copy-code><h4 id="2-change-directory-to-libavif">2. Change directory to libavif <a class="w-headline-link" href="#2-change-directory-to-libavif">#</a></h4><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">cd</span> libavif</code></pre> <!----></web-copy-code><p>There are many different ways you can configure avifenc and libavif to build. You can find more information at <a href="https://github.com/AOMediaCodec/libavif" rel="noopener">libavif</a>. We are going to build avifenc so that it is statically linked to the AV1 encoder and decoder library, <a href="https://aomedia.googlesource.com/aom" rel="noopener">libaom</a>.</p><h4 id="3-get-and-build-libaom">3. Get and build libaom <a class="w-headline-link" href="#3-get-and-build-libaom">#</a></h4><p>Change to the libavif external dependencies directory.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">cd</span> ext</code></pre> <!----></web-copy-code><p>The next command will pull the libaom source code and build libaom statically.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell">./aom.cmd</code></pre> <!----></web-copy-code><p>Change directory to libavif.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span></code></pre> <!----></web-copy-code><h4 id="4-build-the-command-line-encoding-tool,-avifenc">4. Build the command line encoding tool, avifenc <a class="w-headline-link" href="#4-build-the-command-line-encoding-tool,-avifenc">#</a></h4><p>It is a good idea to create a build directory for avifenc.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token function">mkdir</span> build</code></pre> <!----></web-copy-code><p>Change to the build directory.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">cd</span> build</code></pre> <!----></web-copy-code><p>Create the build files for avifenc.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell">cmake -DCMAKE_BUILD_TYPE<span class="token operator">=</span>Release -DBUILD_SHARED_LIBS<span class="token operator">=</span><span class="token number">0</span> -DAVIF_CODEC_AOM<span class="token operator">=</span><span class="token number">1</span> -DAVIF_LOCAL_AOM<span class="token operator">=</span><span class="token number">1</span> -DAVIF_BUILD_APPS<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">..</span></code></pre> <!----></web-copy-code><p>Build avifenc.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell"><span class="token function">make</span></code></pre> <!----></web-copy-code><p>You have successfully built avifenc!</p><h3 id="understanding-the-avifenc-command-line-parameters">Understanding the avifenc command line parameters <a class="w-headline-link" href="#understanding-the-avifenc-command-line-parameters">#</a></h3><p>avifenc uses the command-line structure:</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell">./avifenc <span class="token punctuation">[</span>options<span class="token punctuation">]</span> input.file output.avif</code></pre> <!----></web-copy-code><p>The basic parameters for avifenc used in this tutorial are:</p><table><thead><tr><th>avifenc</th><th></th></tr></thead><tbody><tr><td>--min 0</td><td>Set min quantizer for color to 0</td></tr><tr><td>--max 63</td><td>Set max quantizer for color to 63</td></tr><tr><td>--minalpha 0</td><td>Set min quantizer for alpha to 0</td></tr><tr><td>--maxalpha 63</td><td>Set max quantizer for alpha to 63</td></tr><tr><td>-a end-usage=q</td><td>Set the rate control mode to Constant Quality (Q) mode</td></tr><tr><td>-a cq-level=Q</td><td>Set quantize level for both color and alpha to Q</td></tr><tr><td>-a color:cq-level=Q</td><td>Set quantize level for color to Q</td></tr><tr><td>-a alpha:cq-level=Q</td><td>Set quantize level for alpha to Q</td></tr><tr><td>-a tune=ssim</td><td>Tune for SSIM (default is to tune for PSNR)</td></tr><tr><td>--jobs J</td><td>Use J worker threads (default: 1)</td></tr><tr><td>--speed S</td><td>Set encoder speed from 0-10 (slowest-fastest. default: 6)</td></tr></tbody></table><p>The cq-level option sets the quantize level (0-63) to control the quality for color or alpha.</p><aside class="aside flow bg-state-info-bg color-state-info-text"><div class="flow">You can think of cq-level as the "amount" of quantization, so a lower value yields higher quality</div></aside><aside class="aside flow bg-state-info-bg color-state-info-text"><div class="flow">Higher
 speed settings will run faster, but produce worse compression 
efficiency and quality. This tutorial uses the default setting of Speed 
6, which we recommend as a balance of encode speed, compression 
efficiency, and quality.</div></aside><h3 id="create-an-avif-image-with-default-settings">Create an AVIF image with default settings <a class="w-headline-link" href="#create-an-avif-image-with-default-settings">#</a></h3><p>The most basic parameters for avifenc to run, are setting the input and output files.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell">./avifenc happy_dog.jpg happy_dog.avif</code></pre> <!----></web-copy-code><p>We recommend the following command line to encode an image, say at quantize level 18:</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell">./avifenc --min <span class="token number">0</span> --max <span class="token number">63</span> -a end-usage<span class="token operator">=</span>q -a cq-level<span class="token operator">=</span><span class="token number">18</span> -a <span class="token assign-left variable">tune</span><span class="token operator">=</span>ssim happy_dog.jpg happy_dog.avif</code></pre> <!----></web-copy-code><aside class="aside flow bg-state-info-bg color-state-info-text"><div class="flow"><code>"--min 0 --max 63 -a end-usage=q -a cq-level=18 -a tune=ssim"</code> are the recommended settings for AVIF images. If the image has an alpha channel, add <code>"--minalpha 0 --maxalpha 63"</code>. To specify different quantize levels for color and alpha, replace <code>"-a cq-level=18"</code> with, say, <code>"-a color:cq-level=18 -a alpha:cq-level=10"</code>.</div></aside><p>Avifenc
 has a lot of options that will affect both quality and speed. If you 
want to see the options and learn more about them just run <code>./avifenc</code></p><p>You now have your very own AVIF image!</p><h3 id="speeding-up-the-encoder">Speeding up the encoder <a class="w-headline-link" href="#speeding-up-the-encoder">#</a></h3><p>One parameter that may be good to change depending on how many cores you have on your machine is the <code>--jobs</code> parameter. This parameter sets how many threads avifenc will use to create AVIF images. Try running this at the command line.</p><web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button><pre class="language-shell"><code class="language-shell">./avifenc --min <span class="token number">0</span> --max <span class="token number">63</span> -a end-usage<span class="token operator">=</span>q -a cq-level<span class="token operator">=</span><span class="token number">18</span> -a <span class="token assign-left variable">tune</span><span class="token operator">=</span>ssim --jobs <span class="token number">8</span> happy_dog.jpg happy_dog.avif</code></pre> <!----></web-copy-code><p>This tells avifenc to use 8 threads when creating the AVIF image, which speeds up AVIF encoding by roughly 5x.</p><h2 id="conclusion">Conclusion <a class="w-headline-link" href="#conclusion">#</a></h2><p>Using
 libaom, libavif and other open source tooling, you can get the best 
image quality and performance for your website using AVIF. The format is
 still relatively new, and optimizations and tooling integrations are 
actively being developed. If you have questions, comments, or feature 
requests, reach out on the <a href="https://groups.google.com/a/aomedia.org/g/av1-discuss" rel="noopener">av1-discuss mailing list</a>, <a href="https://github.com/AOMediaCodec/community/wiki" rel="noopener">AOM GitHub community</a>, and <a href="https://github.com/AOMediaCodec/av1-avif/wiki" rel="noopener">AVIF wiki</a>.</p><nav class="cluster gutter-base flow-space-size-2" aria-label="tags"><a class="pill" href="https://web.dev/tags/performance/">Performance</a></nav><div class="text-size-0 color-mid-text"><span> Last updated: <time>Jun 7, 2021</time> </span> — <a href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/compress-images-avif/index.md"> Improve article </a></div><div class="flow-space-size-2"><a class="button" data-type="secondary" href="https://web.dev/blog"> <svg viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg> <span>Return to all articles</span> </a></div><div class="docked-actions flow flow-space-base"><div><share-action authors="Jai Krishnan | Wan-Teh Chang" class="gc-analytics-event fab" data-action="click" data-category="web.dev" data-icon="share" data-label="share, share" data-type="primary" role="button" tabindex="0"> <svg viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"></path></svg> <span class="fab__label">Share</span> </share-action></div><div><a class="fab gc-analytics-event" data-action="click" data-category="web.dev" data-label="view-subscribe" data-type="primary" href="https://web.dev/newsletter/"> <svg aria-label="An envelope with plus icon" viewBox="0 0 24 24" height="24" role="img" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20H4c-1.1 0-2-.9-2-2l.01-12c0-1.1.89-2 1.99-2h16c1.1 0 2 .9 2 2v7h-2V8l-8 5-8-5v10h9v2zm-1-9l8-5H4l8 5zm8 7h3v2h-3v3h-2v-3h-3v-2h3v-3h2v3z" fill="currentColor" fill-rule="nonzero"></path></svg> <span class="fab__label">subscribe</span> </a></div></div></article></div></div></main><footer class="site-footer" role="contentinfo"><nav aria-label="footer navigation" class="site-footer__primary-nav auto-grid"><div><h3 class="text-size-2 color-mid-text">Contribute</h3><ul class="w-footer__linkbox-list" role="list"><li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md&amp;title="> File a bug </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)" href="https://github.com/googlechrome/web.dev"> View source </a></li></ul></div><div><h3 class="text-size-2 color-mid-text">Related content</h3><ul class="w-footer__linkbox-list" role="list"><li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://developer.chrome.com/"> developer.chrome.com </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://blog.chromium.org/"> Chrome updates </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)" href="https://web.dev/tags/case-study/"> Case studies </a></li><li><a data-label="Footer Link (index 5)" data-category="Podcasts" href="https://web.dev/podcasts/"> Podcasts </a></li><li><a data-label="Footer Link (index 6)" data-category="Shows" href="https://web.dev/shows/"> Shows </a></li></ul></div><div><h3 class="text-size-2 color-mid-text">Connect</h3><ul class="w-footer__linkbox-list" role="list"><li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://www.twitter.com/ChromiumDev"> Twitter </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)" href="https://www.youtube.com/user/ChromeDevelopers"> YouTube </a></li></ul></div></nav><nav aria-label="Google developers" class="site-footer__brand-nav repel"><ul class="cluster" role="list"><li><a data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link" href="https://developers.google.com/"> <img alt="Google Developers" class="w-footer__utility-logo" loading="lazy" src="Using%20AVIF%20to%20compress%20images%20on%20your%20site_files/lockup-color.png" width="185" height="33"> </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Chrome Link" href="https://developer.chrome.com/"> Chrome </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Firebase Link" href="https://firebase.google.com/"> Firebase </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Google Cloud Platform Link" href="https://cloud.google.com/"> Google Cloud Platform </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer All products Link" href="https://developers.google.com/products"> All products </a></li></ul><div class="cluster"><theme-toggle> <label class="toggle-switch" for="theme-toggle"><span class="toggle-switch__label">Dark theme</span> <input class="toggle-switch__input" id="theme-toggle" role="switch" type="checkbox" aria-checked="true" checked="checked"> <div class="toggle-switch__decor focus-ring" aria-hidden="true"><div class="toggle-switch__thumb"></div></div></label> </theme-toggle><web-language-select current="en"><!---->
      <div class="w-display-flex">
        <label class="w-visually-hidden" for="preferred-language">
          Choose language
        </label>
        <select id="preferred-language">
          <!--?lit$06222424$--><!---->
          <option selected="selected" value="en">
            <!--?lit$06222424$-->ENGLISH (<!--?lit$06222424$-->en)
          </option>
        <!---->
        </select>
      </div>
    </web-language-select></div></nav><nav aria-label="terms and policies" class="site-footer__misc-links"><ul class="cluster" role="list"><li><a data-category="Site-Wide Custom Events" data-label="Footer Terms and Privacy link" href="https://policies.google.com/"> Terms &amp; Privacy </a></li><li><a data-category="Site-Wide Custom Events" data-label="Footer Community Guidelines link" href="https://web.dev/community-guidelines/"> Community Guidelines </a></li></ul></nav><p class="gap-top-size-2 text-size-0">Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/"> Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/terms/site-policies"> Google Developers Site Policies</a>.</p></footer></body></html>